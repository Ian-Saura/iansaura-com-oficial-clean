/**
 * FASE 9: STEP FUNCTIONS & EVENTBRIDGE - ORQUESTACI√ìN
 * 8 pasos para orquestar pipelines
 */
import { AWSStep } from '../types';

export const phase9Steps: AWSStep[] = [
  { id: 'aws-9-1', stepNumber: 71, title: { es: 'Introducci√≥n a Step Functions', en: 'Introduction to Step Functions', pt: 'Introdu√ß√£o ao Step Functions' }, description: { es: 'Entender state machines y cu√°ndo usarlas.', en: 'Understand state machines and when to use them.', pt: 'Entender state machines e quando us√°-las.' }, theory: { es: `## AWS Step Functions\n\n### ¬øQu√© es?\nServicio de orquestaci√≥n visual que coordina m√∫ltiples servicios AWS en workflows.\n\n### Tipos de workflows\n1. **Standard**: Larga duraci√≥n (hasta 1 a√±o), exactly-once\n2. **Express**: Corta duraci√≥n (5 min), at-least-once, m√°s barato\n\n### Estados disponibles\n- **Task**: Ejecuta trabajo (Lambda, Glue, ECS, etc.)\n- **Choice**: L√≥gica condicional\n- **Parallel**: Ejecuci√≥n paralela\n- **Wait**: Espera tiempo o timestamp\n- **Pass**: Pasar datos\n- **Succeed/Fail**: Terminar workflow`, en: `## AWS Step Functions\n\n### What is it?\nVisual orchestration service that coordinates multiple AWS services in workflows.\n\n### Workflow types\n1. **Standard**: Long duration (up to 1 year), exactly-once\n2. **Express**: Short duration (5 min), at-least-once, cheaper\n\n### Available states\n- **Task**: Execute work (Lambda, Glue, ECS, etc.)\n- **Choice**: Conditional logic\n- **Parallel**: Parallel execution\n- **Wait**: Wait time or timestamp\n- **Pass**: Pass data\n- **Succeed/Fail**: End workflow`, pt: `## AWS Step Functions\n\n### O que √©?\nServi√ßo de orquestra√ß√£o visual que coordena m√∫ltiplos servi√ßos AWS em workflows.\n\n### Tipos de workflows\n1. **Standard**: Longa dura√ß√£o (at√© 1 ano), exactly-once\n2. **Express**: Curta dura√ß√£o (5 min), at-least-once, mais barato\n\n### Estados dispon√≠veis\n- **Task**: Executa trabalho (Lambda, Glue, ECS, etc.)\n- **Choice**: L√≥gica condicional\n- **Parallel**: Execu√ß√£o paralela\n- **Wait**: Espera tempo ou timestamp\n- **Pass**: Passar dados\n- **Succeed/Fail**: Terminar workflow` }, practicalTips: [{ es: 'üé≠ Step Functions es ideal para pipelines con retry logic y error handling', en: 'üé≠ Step Functions is ideal for pipelines with retry logic and error handling', pt: 'üé≠ Step Functions √© ideal para pipelines com retry logic e error handling' }], externalLinks: [{ title: 'Step Functions', url: 'https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øEntiendes la diferencia entre Standard y Express workflows?', en: '‚úÖ Do you understand the difference between Standard and Express workflows?', pt: '‚úÖ Voc√™ entende a diferen√ßa entre Standard e Express workflows?' }, xpReward: 50, estimatedMinutes: 25, services: ['Step Functions'] },
  { id: 'aws-9-2', stepNumber: 72, title: { es: 'Amazon State Language (ASL)', en: 'Amazon State Language (ASL)', pt: 'Amazon State Language (ASL)' }, description: { es: 'Escribir definiciones de state machines.', en: 'Write state machine definitions.', pt: 'Escrever defini√ß√µes de state machines.' }, theory: { es: `## Amazon State Language\n\n### Estructura b√°sica\n\`\`\`json\n{\n  "StartAt": "FirstTask",\n  "States": {\n    "FirstTask": {\n      "Type": "Task",\n      "Resource": "arn:aws:lambda:...",\n      "Next": "CheckResult"\n    },\n    "CheckResult": {\n      "Type": "Choice",\n      "Choices": [{\n        "Variable": "$.status",\n        "StringEquals": "success",\n        "Next": "SuccessState"\n      }],\n      "Default": "FailState"\n    },\n    "SuccessState": { "Type": "Succeed" },\n    "FailState": { "Type": "Fail" }\n  }\n}\n\`\`\`\n\n### Input/Output processing\n- **InputPath**: Selecciona parte del input\n- **ResultPath**: Donde guardar resultado\n- **OutputPath**: Qu√© pasar al siguiente estado`, en: `## Amazon State Language\n\n### Basic structure\n\`\`\`json\n{\n  "StartAt": "FirstTask",\n  "States": {\n    "FirstTask": {\n      "Type": "Task",\n      "Resource": "arn:aws:lambda:...",\n      "Next": "CheckResult"\n    },\n    "CheckResult": {\n      "Type": "Choice",\n      "Choices": [{\n        "Variable": "$.status",\n        "StringEquals": "success",\n        "Next": "SuccessState"\n      }],\n      "Default": "FailState"\n    },\n    "SuccessState": { "Type": "Succeed" },\n    "FailState": { "Type": "Fail" }\n  }\n}\n\`\`\`\n\n### Input/Output processing\n- **InputPath**: Select part of input\n- **ResultPath**: Where to save result\n- **OutputPath**: What to pass to next state`, pt: `## Amazon State Language\n\n### Estrutura b√°sica\n\`\`\`json\n{\n  "StartAt": "FirstTask",\n  "States": {\n    "FirstTask": {\n      "Type": "Task",\n      "Resource": "arn:aws:lambda:...",\n      "Next": "CheckResult"\n    },\n    "CheckResult": {\n      "Type": "Choice",\n      "Choices": [{\n        "Variable": "$.status",\n        "StringEquals": "success",\n        "Next": "SuccessState"\n      }],\n      "Default": "FailState"\n    },\n    "SuccessState": { "Type": "Succeed" },\n    "FailState": { "Type": "Fail" }\n  }\n}\n\`\`\`\n\n### Input/Output processing\n- **InputPath**: Seleciona parte do input\n- **ResultPath**: Onde salvar resultado\n- **OutputPath**: O que passar para o pr√≥ximo estado` }, practicalTips: [{ es: 'üìù Usa el Visual Designer para crear y luego exporta el ASL', en: 'üìù Use the Visual Designer to create and then export the ASL', pt: 'üìù Use o Visual Designer para criar e depois exporte o ASL' }], externalLinks: [{ title: 'ASL Reference', url: 'https://docs.aws.amazon.com/step-functions/latest/dg/concepts-amazon-states-language.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øEscribiste una state machine con Task y Choice?', en: '‚úÖ Did you write a state machine with Task and Choice?', pt: '‚úÖ Voc√™ escreveu uma state machine com Task e Choice?' }, xpReward: 65, estimatedMinutes: 45, services: ['Step Functions'] },
  { id: 'aws-9-3', stepNumber: 73, title: { es: 'Integraci√≥n con Glue, Lambda, ECS', en: 'Integration with Glue, Lambda, ECS', pt: 'Integra√ß√£o com Glue, Lambda, ECS' }, description: { es: 'Orquestar servicios de datos con Step Functions.', en: 'Orchestrate data services with Step Functions.', pt: 'Orquestrar servi√ßos de dados com Step Functions.' }, theory: { es: `## Integraciones para Data Engineering\n\n### Ejecutar Glue Job\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::glue:startJobRun.sync",\n  "Parameters": {\n    "JobName": "my-etl-job",\n    "Arguments": {\n      "--input_path.$": "$.input_path"\n    }\n  }\n}\n\`\`\`\n\n### Ejecutar Athena Query\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::athena:startQueryExecution.sync",\n  "Parameters": {\n    "QueryString": "SELECT * FROM table",\n    "WorkGroup": "primary"\n  }\n}\n\`\`\`\n\n### .sync vs .waitForTaskToken\n- **.sync**: Step Functions espera a que termine\n- **.waitForTaskToken**: Callback pattern para async`, en: `## Integrations for Data Engineering\n\n### Run Glue Job\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::glue:startJobRun.sync",\n  "Parameters": {\n    "JobName": "my-etl-job",\n    "Arguments": {\n      "--input_path.$": "$.input_path"\n    }\n  }\n}\n\`\`\`\n\n### Run Athena Query\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::athena:startQueryExecution.sync",\n  "Parameters": {\n    "QueryString": "SELECT * FROM table",\n    "WorkGroup": "primary"\n  }\n}\n\`\`\`\n\n### .sync vs .waitForTaskToken\n- **.sync**: Step Functions waits for completion\n- **.waitForTaskToken**: Callback pattern for async`, pt: `## Integra√ß√µes para Data Engineering\n\n### Executar Glue Job\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::glue:startJobRun.sync",\n  "Parameters": {\n    "JobName": "my-etl-job",\n    "Arguments": {\n      "--input_path.$": "$.input_path"\n    }\n  }\n}\n\`\`\`\n\n### Executar Athena Query\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:states:::athena:startQueryExecution.sync",\n  "Parameters": {\n    "QueryString": "SELECT * FROM table",\n    "WorkGroup": "primary"\n  }\n}\n\`\`\`\n\n### .sync vs .waitForTaskToken\n- **.sync**: Step Functions espera conclus√£o\n- **.waitForTaskToken**: Callback pattern para async` }, practicalTips: [{ es: 'üîÑ Usa .sync para jobs que quieres que Step Functions espere', en: 'üîÑ Use .sync for jobs you want Step Functions to wait for', pt: 'üîÑ Use .sync para jobs que voc√™ quer que Step Functions espere' }], externalLinks: [{ title: 'Service Integrations', url: 'https://docs.aws.amazon.com/step-functions/latest/dg/connect-supported-services.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øCreaste un workflow que ejecuta un Glue job?', en: '‚úÖ Did you create a workflow that runs a Glue job?', pt: '‚úÖ Voc√™ criou um workflow que executa um Glue job?' }, xpReward: 70, estimatedMinutes: 50, services: ['Step Functions', 'Glue'] },
  { id: 'aws-9-4', stepNumber: 74, title: { es: 'Error handling y retries', en: 'Error handling and retries', pt: 'Tratamento de erros e retries' }, description: { es: 'Configurar manejo de errores robusto.', en: 'Configure robust error handling.', pt: 'Configurar tratamento de erros robusto.' }, theory: { es: `## Error Handling en Step Functions\n\n### Retry\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:lambda:...",\n  "Retry": [{\n    "ErrorEquals": ["Lambda.ServiceException"],\n    "IntervalSeconds": 2,\n    "MaxAttempts": 3,\n    "BackoffRate": 2\n  }]\n}\n\`\`\`\n\n### Catch\n\`\`\`json\n{\n  "Type": "Task",\n  "Catch": [{\n    "ErrorEquals": ["States.ALL"],\n    "Next": "ErrorHandler",\n    "ResultPath": "$.error"\n  }]\n}\n\`\`\`\n\n### Errores comunes\n- **States.Timeout**: Timeout del estado\n- **States.TaskFailed**: Tarea fall√≥\n- **States.ALL**: Cualquier error`, en: `## Error Handling in Step Functions\n\n### Retry\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:lambda:...",\n  "Retry": [{\n    "ErrorEquals": ["Lambda.ServiceException"],\n    "IntervalSeconds": 2,\n    "MaxAttempts": 3,\n    "BackoffRate": 2\n  }]\n}\n\`\`\`\n\n### Catch\n\`\`\`json\n{\n  "Type": "Task",\n  "Catch": [{\n    "ErrorEquals": ["States.ALL"],\n    "Next": "ErrorHandler",\n    "ResultPath": "$.error"\n  }]\n}\n\`\`\`\n\n### Common errors\n- **States.Timeout**: State timeout\n- **States.TaskFailed**: Task failed\n- **States.ALL**: Any error`, pt: `## Tratamento de Erros no Step Functions\n\n### Retry\n\`\`\`json\n{\n  "Type": "Task",\n  "Resource": "arn:aws:lambda:...",\n  "Retry": [{\n    "ErrorEquals": ["Lambda.ServiceException"],\n    "IntervalSeconds": 2,\n    "MaxAttempts": 3,\n    "BackoffRate": 2\n  }]\n}\n\`\`\`\n\n### Catch\n\`\`\`json\n{\n  "Type": "Task",\n  "Catch": [{\n    "ErrorEquals": ["States.ALL"],\n    "Next": "ErrorHandler",\n    "ResultPath": "$.error"\n  }]\n}\n\`\`\`\n\n### Erros comuns\n- **States.Timeout**: Timeout do estado\n- **States.TaskFailed**: Tarefa falhou\n- **States.ALL**: Qualquer erro` }, practicalTips: [{ es: 'üõ°Ô∏è SIEMPRE configura Retry con BackoffRate para errores transitorios', en: 'üõ°Ô∏è ALWAYS configure Retry with BackoffRate for transient errors', pt: 'üõ°Ô∏è SEMPRE configure Retry com BackoffRate para erros transit√≥rios' }], externalLinks: [{ title: 'Error Handling', url: 'https://docs.aws.amazon.com/step-functions/latest/dg/concepts-error-handling.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øConfiguraste Retry y Catch en tu state machine?', en: '‚úÖ Did you configure Retry and Catch in your state machine?', pt: '‚úÖ Voc√™ configurou Retry e Catch na sua state machine?' }, xpReward: 60, estimatedMinutes: 35, services: ['Step Functions'] },
  { id: 'aws-9-5', stepNumber: 75, title: { es: 'Amazon EventBridge', en: 'Amazon EventBridge', pt: 'Amazon EventBridge' }, description: { es: 'Crear arquitecturas event-driven.', en: 'Create event-driven architectures.', pt: 'Criar arquiteturas event-driven.' }, theory: { es: `## Amazon EventBridge\n\n### ¬øQu√© es?\nBus de eventos serverless para arquitecturas event-driven.\n\n### Componentes\n- **Event Bus**: Canal de eventos\n- **Rules**: Filtran y rutean eventos\n- **Targets**: Destinos (Lambda, Step Functions, etc.)\n- **Schemas**: Estructura de eventos\n\n### Ejemplo de rule\n\`\`\`json\n{\n  "source": ["aws.s3"],\n  "detail-type": ["Object Created"],\n  "detail": {\n    "bucket": { "name": ["my-bucket"] },\n    "object": { "key": [{ "prefix": "raw/" }] }\n  }\n}\n\`\`\`\n\n### Patterns comunes\n1. S3 ‚Üí EventBridge ‚Üí Step Functions\n2. Glue Job Complete ‚Üí EventBridge ‚Üí SNS\n3. Schedule ‚Üí EventBridge ‚Üí Lambda`, en: `## Amazon EventBridge\n\n### What is it?\nServerless event bus for event-driven architectures.\n\n### Components\n- **Event Bus**: Event channel\n- **Rules**: Filter and route events\n- **Targets**: Destinations (Lambda, Step Functions, etc.)\n- **Schemas**: Event structure\n\n### Rule example\n\`\`\`json\n{\n  "source": ["aws.s3"],\n  "detail-type": ["Object Created"],\n  "detail": {\n    "bucket": { "name": ["my-bucket"] },\n    "object": { "key": [{ "prefix": "raw/" }] }\n  }\n}\n\`\`\`\n\n### Common patterns\n1. S3 ‚Üí EventBridge ‚Üí Step Functions\n2. Glue Job Complete ‚Üí EventBridge ‚Üí SNS\n3. Schedule ‚Üí EventBridge ‚Üí Lambda`, pt: `## Amazon EventBridge\n\n### O que √©?\nBarramento de eventos serverless para arquiteturas event-driven.\n\n### Componentes\n- **Event Bus**: Canal de eventos\n- **Rules**: Filtram e roteiam eventos\n- **Targets**: Destinos (Lambda, Step Functions, etc.)\n- **Schemas**: Estrutura de eventos\n\n### Exemplo de rule\n\`\`\`json\n{\n  "source": ["aws.s3"],\n  "detail-type": ["Object Created"],\n  "detail": {\n    "bucket": { "name": ["my-bucket"] },\n    "object": { "key": [{ "prefix": "raw/" }] }\n  }\n}\n\`\`\`\n\n### Patterns comuns\n1. S3 ‚Üí EventBridge ‚Üí Step Functions\n2. Glue Job Complete ‚Üí EventBridge ‚Üí SNS\n3. Schedule ‚Üí EventBridge ‚Üí Lambda` }, practicalTips: [{ es: 'üì® EventBridge es el pegamento entre servicios en arquitecturas modernas', en: 'üì® EventBridge is the glue between services in modern architectures', pt: 'üì® EventBridge √© a cola entre servi√ßos em arquiteturas modernas' }], externalLinks: [{ title: 'EventBridge', url: 'https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-what-is.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øCreaste una rule que dispara Lambda cuando un archivo llega a S3?', en: '‚úÖ Did you create a rule that triggers Lambda when a file arrives in S3?', pt: '‚úÖ Voc√™ criou uma rule que dispara Lambda quando um arquivo chega no S3?' }, xpReward: 60, estimatedMinutes: 40, services: ['EventBridge'] },
  { id: 'aws-9-6', stepNumber: 76, title: { es: 'Scheduler y pipes', en: 'Scheduler and pipes', pt: 'Scheduler e pipes' }, description: { es: 'Programar ejecuciones y conectar servicios.', en: 'Schedule executions and connect services.', pt: 'Programar execu√ß√µes e conectar servi√ßos.' }, theory: { es: `## EventBridge Scheduler & Pipes\n\n### Scheduler\nProgramar invocaciones one-time o recurrentes:\n\`\`\`yaml\nSchedule:\n  Expression: rate(1 hour)\n  Target: Step Functions state machine\n  Timezone: America/Argentina/Buenos_Aires\n\`\`\`\n\n### Pipes\nConectar fuentes a destinos con transformaci√≥n:\n\`\`\`yaml\nPipe:\n  Source: SQS Queue\n  Enrichment: Lambda (opcional)\n  Target: Step Functions\n  Filter: { detail-type: ["order.created"] }\n\`\`\`\n\n### Scheduler vs CloudWatch Events\n- Scheduler: M√°s features, timezones, ventanas\n- CloudWatch Events: Legacy`, en: `## EventBridge Scheduler & Pipes\n\n### Scheduler\nSchedule one-time or recurring invocations:\n\`\`\`yaml\nSchedule:\n  Expression: rate(1 hour)\n  Target: Step Functions state machine\n  Timezone: America/Argentina/Buenos_Aires\n\`\`\`\n\n### Pipes\nConnect sources to destinations with transformation:\n\`\`\`yaml\nPipe:\n  Source: SQS Queue\n  Enrichment: Lambda (optional)\n  Target: Step Functions\n  Filter: { detail-type: ["order.created"] }\n\`\`\`\n\n### Scheduler vs CloudWatch Events\n- Scheduler: More features, timezones, windows\n- CloudWatch Events: Legacy`, pt: `## EventBridge Scheduler & Pipes\n\n### Scheduler\nProgramar invoca√ß√µes one-time ou recorrentes:\n\`\`\`yaml\nSchedule:\n  Expression: rate(1 hour)\n  Target: Step Functions state machine\n  Timezone: America/Argentina/Buenos_Aires\n\`\`\`\n\n### Pipes\nConectar fontes a destinos com transforma√ß√£o:\n\`\`\`yaml\nPipe:\n  Source: SQS Queue\n  Enrichment: Lambda (opcional)\n  Target: Step Functions\n  Filter: { detail-type: ["order.created"] }\n\`\`\`\n\n### Scheduler vs CloudWatch Events\n- Scheduler: Mais features, timezones, janelas\n- CloudWatch Events: Legacy` }, practicalTips: [{ es: '‚è∞ Usa Scheduler para pipelines diarios en lugar de cron en EC2', en: '‚è∞ Use Scheduler for daily pipelines instead of cron on EC2', pt: '‚è∞ Use Scheduler para pipelines di√°rios em vez de cron no EC2' }], externalLinks: [{ title: 'EventBridge Scheduler', url: 'https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øProgramaste una ejecuci√≥n diaria con Scheduler?', en: '‚úÖ Did you schedule a daily execution with Scheduler?', pt: '‚úÖ Voc√™ programou uma execu√ß√£o di√°ria com Scheduler?' }, xpReward: 50, estimatedMinutes: 30, services: ['EventBridge'] },
  { id: 'aws-9-7', stepNumber: 77, title: { es: 'MWAA (Managed Airflow)', en: 'MWAA (Managed Airflow)', pt: 'MWAA (Managed Airflow)' }, description: { es: 'Alternativa con Apache Airflow managed.', en: 'Alternative with managed Apache Airflow.', pt: 'Alternativa com Apache Airflow gerenciado.' }, theory: { es: `## Amazon MWAA - Managed Airflow\n\n### ¬øCu√°ndo MWAA vs Step Functions?\n| MWAA | Step Functions |\n|------|----------------|\n| Ya usas Airflow | Nuevo en orquestaci√≥n |\n| DAGs complejos | Workflows simples |\n| Python-native | JSON/YAML |\n| M√°s costoso | Paga por transici√≥n |\n\n### Configuraci√≥n b√°sica\n\`\`\`yaml\nEnvironment: my-airflow\n  Size: mw1.small\n  Airflow version: 2.8.1\n  S3 Bucket: s3://bucket/dags/\n  VPC: vpc-prod\n\`\`\`\n\n### DAG en MWAA\n\`\`\`python\nfrom airflow import DAG\nfrom airflow.providers.amazon.aws.operators.glue import GlueJobOperator\n\nwith DAG('etl_dag', schedule_interval='@daily'):\n    run_glue = GlueJobOperator(\n        task_id='run_glue',\n        job_name='my-etl-job'\n    )\n\`\`\``, en: `## Amazon MWAA - Managed Airflow\n\n### When MWAA vs Step Functions?\n| MWAA | Step Functions |\n|------|----------------|\n| Already use Airflow | New to orchestration |\n| Complex DAGs | Simple workflows |\n| Python-native | JSON/YAML |\n| More expensive | Pay per transition |\n\n### Basic configuration\n\`\`\`yaml\nEnvironment: my-airflow\n  Size: mw1.small\n  Airflow version: 2.8.1\n  S3 Bucket: s3://bucket/dags/\n  VPC: vpc-prod\n\`\`\`\n\n### DAG in MWAA\n\`\`\`python\nfrom airflow import DAG\nfrom airflow.providers.amazon.aws.operators.glue import GlueJobOperator\n\nwith DAG('etl_dag', schedule_interval='@daily'):\n    run_glue = GlueJobOperator(\n        task_id='run_glue',\n        job_name='my-etl-job'\n    )\n\`\`\``, pt: `## Amazon MWAA - Managed Airflow\n\n### Quando MWAA vs Step Functions?\n| MWAA | Step Functions |\n|------|----------------|\n| J√° usa Airflow | Novo em orquestra√ß√£o |\n| DAGs complexos | Workflows simples |\n| Python-native | JSON/YAML |\n| Mais caro | Paga por transi√ß√£o |\n\n### Configura√ß√£o b√°sica\n\`\`\`yaml\nEnvironment: my-airflow\n  Size: mw1.small\n  Airflow version: 2.8.1\n  S3 Bucket: s3://bucket/dags/\n  VPC: vpc-prod\n\`\`\`\n\n### DAG no MWAA\n\`\`\`python\nfrom airflow import DAG\nfrom airflow.providers.amazon.aws.operators.glue import GlueJobOperator\n\nwith DAG('etl_dag', schedule_interval='@daily'):\n    run_glue = GlueJobOperator(\n        task_id='run_glue',\n        job_name='my-etl-job'\n    )\n\`\`\`` }, practicalTips: [{ es: 'üåÄ MWAA es m√°s caro pero m√°s potente - √∫salo si ya conoces Airflow', en: 'üåÄ MWAA is more expensive but more powerful - use it if you already know Airflow', pt: 'üåÄ MWAA √© mais caro mas mais potente - use-o se j√° conhece Airflow' }], externalLinks: [{ title: 'Amazon MWAA', url: 'https://docs.aws.amazon.com/mwaa/latest/userguide/what-is-mwaa.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øEntiendes cu√°ndo elegir MWAA vs Step Functions?', en: '‚úÖ Do you understand when to choose MWAA vs Step Functions?', pt: '‚úÖ Voc√™ entende quando escolher MWAA vs Step Functions?' }, xpReward: 50, estimatedMinutes: 30, services: ['MWAA'] },
  { id: 'aws-9-8', stepNumber: 78, title: { es: 'Pipeline completo orquestado', en: 'Complete orchestrated pipeline', pt: 'Pipeline completo orquestrado' }, description: { es: 'Construir un pipeline end-to-end con Step Functions.', en: 'Build an end-to-end pipeline with Step Functions.', pt: 'Construir um pipeline end-to-end com Step Functions.' }, theory: { es: `## Pipeline ETL Completo\n\n### Arquitectura\n\`\`\`\nS3 (raw) ‚Üí EventBridge ‚Üí Step Functions\n    ‚Üì\n    Crawler (discover schema)\n    ‚Üì\n    Glue Job (transform)\n    ‚Üì\n    Athena Query (validate)\n    ‚Üì\n    Glue Job (aggregate)\n    ‚Üì\n    SNS (notify)\n\`\`\`\n\n### State machine con paralelismo\n\`\`\`json\n{\n  "StartAt": "ParallelValidations",\n  "States": {\n    "ParallelValidations": {\n      "Type": "Parallel",\n      "Branches": [\n        { "StartAt": "ValidateSchema" },\n        { "StartAt": "CheckDuplicates" }\n      ],\n      "Next": "TransformData"\n    }\n  }\n}\n\`\`\``, en: `## Complete ETL Pipeline\n\n### Architecture\n\`\`\`\nS3 (raw) ‚Üí EventBridge ‚Üí Step Functions\n    ‚Üì\n    Crawler (discover schema)\n    ‚Üì\n    Glue Job (transform)\n    ‚Üì\n    Athena Query (validate)\n    ‚Üì\n    Glue Job (aggregate)\n    ‚Üì\n    SNS (notify)\n\`\`\`\n\n### State machine with parallelism\n\`\`\`json\n{\n  "StartAt": "ParallelValidations",\n  "States": {\n    "ParallelValidations": {\n      "Type": "Parallel",\n      "Branches": [\n        { "StartAt": "ValidateSchema" },\n        { "StartAt": "CheckDuplicates" }\n      ],\n      "Next": "TransformData"\n    }\n  }\n}\n\`\`\``, pt: `## Pipeline ETL Completo\n\n### Arquitetura\n\`\`\`\nS3 (raw) ‚Üí EventBridge ‚Üí Step Functions\n    ‚Üì\n    Crawler (discover schema)\n    ‚Üì\n    Glue Job (transform)\n    ‚Üì\n    Athena Query (validate)\n    ‚Üì\n    Glue Job (aggregate)\n    ‚Üì\n    SNS (notify)\n\`\`\`\n\n### State machine com paralelismo\n\`\`\`json\n{\n  "StartAt": "ParallelValidations",\n  "States": {\n    "ParallelValidations": {\n      "Type": "Parallel",\n      "Branches": [\n        { "StartAt": "ValidateSchema" },\n        { "StartAt": "CheckDuplicates" }\n      ],\n      "Next": "TransformData"\n    }\n  }\n}\n\`\`\`` }, practicalTips: [{ es: 'üéØ Un buen pipeline tiene validaci√≥n, transformaci√≥n, notificaci√≥n y manejo de errores', en: 'üéØ A good pipeline has validation, transformation, notification and error handling', pt: 'üéØ Um bom pipeline tem valida√ß√£o, transforma√ß√£o, notifica√ß√£o e tratamento de erros' }], externalLinks: [{ title: 'Step Functions Examples', url: 'https://docs.aws.amazon.com/step-functions/latest/dg/sample-projects.html', type: 'aws_docs' }], checkpoint: { es: '‚úÖ ¬øConstruiste un pipeline con al menos 5 pasos orquestados?', en: '‚úÖ Did you build a pipeline with at least 5 orchestrated steps?', pt: '‚úÖ Voc√™ construiu um pipeline com pelo menos 5 passos orquestrados?' }, xpReward: 80, estimatedMinutes: 60, services: ['Step Functions', 'EventBridge', 'Glue'] }
];








