/**
 * FASE 10: INFRASTRUCTURE AS CODE
 * 8 pasos para CloudFormation y Terraform
 */
import { AWSStep } from '../types';

export const phase10Steps: AWSStep[] = [
  { id: 'aws-10-1', stepNumber: 79, title: { es: 'IntroducciÃ³n a IaC', en: 'Introduction to IaC', pt: 'IntroduÃ§Ã£o a IaC' }, description: { es: 'Por quÃ© Infrastructure as Code es esencial.', en: 'Why Infrastructure as Code is essential.', pt: 'Por que Infrastructure as Code Ã© essencial.' }, theory: { es: `## Infrastructure as Code\n\n### Beneficios\n1. **Versionado**: Git history de infraestructura\n2. **Reproducible**: Mismo cÃ³digo = mismo resultado\n3. **Review**: Code review de cambios\n4. **Automatizable**: CI/CD de infraestructura\n5. **DocumentaciÃ³n**: El cÃ³digo es la documentaciÃ³n\n\n### Opciones en AWS\n- **CloudFormation**: Nativo AWS, YAML/JSON\n- **Terraform**: Multi-cloud, HCL\n- **AWS CDK**: ProgramÃ¡tico (TypeScript, Python)\n- **Pulumi**: ProgramÃ¡tico multi-cloud\n\n### Â¿CuÃ¡l elegir?\n| CloudFormation | Terraform |\n|----------------|----------|\n| Solo AWS | Multi-cloud |\n| Gratis | Gratis/Paid |\n| AWS support | HashiCorp |\n| YAML/JSON | HCL |`, en: `## Infrastructure as Code\n\n### Benefits\n1. **Versioned**: Git history of infrastructure\n2. **Reproducible**: Same code = same result\n3. **Review**: Code review of changes\n4. **Automatable**: CI/CD of infrastructure\n5. **Documentation**: Code is documentation\n\n### AWS Options\n- **CloudFormation**: AWS native, YAML/JSON\n- **Terraform**: Multi-cloud, HCL\n- **AWS CDK**: Programmatic (TypeScript, Python)\n- **Pulumi**: Multi-cloud programmatic\n\n### Which to choose?\n| CloudFormation | Terraform |\n|----------------|----------|\n| AWS only | Multi-cloud |\n| Free | Free/Paid |\n| AWS support | HashiCorp |\n| YAML/JSON | HCL |`, pt: `## Infrastructure as Code\n\n### BenefÃ­cios\n1. **Versionado**: Git history de infraestrutura\n2. **ReproduzÃ­vel**: Mesmo cÃ³digo = mesmo resultado\n3. **Review**: Code review de mudanÃ§as\n4. **AutomatizÃ¡vel**: CI/CD de infraestrutura\n5. **DocumentaÃ§Ã£o**: O cÃ³digo Ã© a documentaÃ§Ã£o\n\n### OpÃ§Ãµes na AWS\n- **CloudFormation**: Nativo AWS, YAML/JSON\n- **Terraform**: Multi-cloud, HCL\n- **AWS CDK**: ProgramÃ¡tico (TypeScript, Python)\n- **Pulumi**: Multi-cloud programÃ¡tico\n\n### Qual escolher?\n| CloudFormation | Terraform |\n|----------------|----------|\n| SÃ³ AWS | Multi-cloud |\n| GrÃ¡tis | GrÃ¡tis/Pago |\n| AWS support | HashiCorp |\n| YAML/JSON | HCL |` }, practicalTips: [{ es: 'ğŸ“ Terraform es mÃ¡s popular en la industria, pero CloudFormation tiene mejor soporte AWS', en: 'ğŸ“ Terraform is more popular in industry, but CloudFormation has better AWS support', pt: 'ğŸ“ Terraform Ã© mais popular na indÃºstria, mas CloudFormation tem melhor suporte AWS' }], externalLinks: [{ title: 'CloudFormation', url: 'https://docs.aws.amazon.com/cloudformation/', type: 'aws_docs' }], checkpoint: { es: 'âœ… Â¿Entiendes los beneficios de IaC vs consola manual?', en: 'âœ… Do you understand the benefits of IaC vs manual console?', pt: 'âœ… VocÃª entende os benefÃ­cios de IaC vs console manual?' }, xpReward: 45, estimatedMinutes: 25, services: ['CloudFormation'] },
  { id: 'aws-10-2', stepNumber: 80, title: { es: 'CloudFormation basics', en: 'CloudFormation basics', pt: 'CloudFormation bÃ¡sico' }, description: { es: 'Crear tu primer stack con CloudFormation.', en: 'Create your first stack with CloudFormation.', pt: 'Criar seu primeiro stack com CloudFormation.' }, theory: { es: `## CloudFormation Template\n\n### Estructura bÃ¡sica\n\`\`\`yaml\nAWSTemplateFormatVersion: '2010-09-09'\nDescription: Data Lake S3 Bucket\n\nParameters:\n  Environment:\n    Type: String\n    Default: dev\n\nResources:\n  DataLakeBucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      BucketName: !Sub 'datalake-\${Environment}-\${AWS::AccountId}'\n      BucketEncryption:\n        ServerSideEncryptionConfiguration:\n          - ServerSideEncryptionByDefault:\n              SSEAlgorithm: AES256\n\nOutputs:\n  BucketArn:\n    Value: !GetAtt DataLakeBucket.Arn\n\`\`\`\n\n### Desplegar\n\`\`\`bash\naws cloudformation create-stack \\\n  --stack-name datalake-dev \\\n  --template-body file://template.yaml \\\n  --parameters ParameterKey=Environment,ParameterValue=dev\n\`\`\``, en: `## CloudFormation Template\n\n### Basic structure\n\`\`\`yaml\nAWSTemplateFormatVersion: '2010-09-09'\nDescription: Data Lake S3 Bucket\n\nParameters:\n  Environment:\n    Type: String\n    Default: dev\n\nResources:\n  DataLakeBucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      BucketName: !Sub 'datalake-\${Environment}-\${AWS::AccountId}'\n      BucketEncryption:\n        ServerSideEncryptionConfiguration:\n          - ServerSideEncryptionByDefault:\n              SSEAlgorithm: AES256\n\nOutputs:\n  BucketArn:\n    Value: !GetAtt DataLakeBucket.Arn\n\`\`\`\n\n### Deploy\n\`\`\`bash\naws cloudformation create-stack \\\n  --stack-name datalake-dev \\\n  --template-body file://template.yaml \\\n  --parameters ParameterKey=Environment,ParameterValue=dev\n\`\`\``, pt: `## CloudFormation Template\n\n### Estrutura bÃ¡sica\n\`\`\`yaml\nAWSTemplateFormatVersion: '2010-09-09'\nDescription: Data Lake S3 Bucket\n\nParameters:\n  Environment:\n    Type: String\n    Default: dev\n\nResources:\n  DataLakeBucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      BucketName: !Sub 'datalake-\${Environment}-\${AWS::AccountId}'\n      BucketEncryption:\n        ServerSideEncryptionConfiguration:\n          - ServerSideEncryptionByDefault:\n              SSEAlgorithm: AES256\n\nOutputs:\n  BucketArn:\n    Value: !GetAtt DataLakeBucket.Arn\n\`\`\`\n\n### Deploy\n\`\`\`bash\naws cloudformation create-stack \\\n  --stack-name datalake-dev \\\n  --template-body file://template.yaml \\\n  --parameters ParameterKey=Environment,ParameterValue=dev\n\`\`\`` }, practicalTips: [{ es: 'ğŸ”„ Usa !Sub para interpolaciÃ³n y !Ref para referencias', en: 'ğŸ”„ Use !Sub for interpolation and !Ref for references', pt: 'ğŸ”„ Use !Sub para interpolaÃ§Ã£o e !Ref para referÃªncias' }], externalLinks: [{ title: 'CFN Template Reference', url: 'https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-reference.html', type: 'aws_docs' }], checkpoint: { es: 'âœ… Â¿Desplegaste un stack que crea un bucket S3?', en: 'âœ… Did you deploy a stack that creates an S3 bucket?', pt: 'âœ… VocÃª implantou um stack que cria um bucket S3?' }, xpReward: 60, estimatedMinutes: 40, services: ['CloudFormation'] },
  { id: 'aws-10-3', stepNumber: 81, title: { es: 'Terraform para AWS', en: 'Terraform for AWS', pt: 'Terraform para AWS' }, description: { es: 'Usar Terraform con el provider de AWS.', en: 'Use Terraform with the AWS provider.', pt: 'Usar Terraform com o provider da AWS.' }, theory: { es: `## Terraform para AWS\n\n### ConfiguraciÃ³n inicial\n\`\`\`hcl\nterraform {\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 5.0"\n    }\n  }\n  backend "s3" {\n    bucket = "terraform-state-bucket"\n    key    = "datalake/terraform.tfstate"\n    region = "us-east-1"\n  }\n}\n\nprovider "aws" {\n  region = "us-east-1"\n}\n\`\`\`\n\n### Recurso S3\n\`\`\`hcl\nresource "aws_s3_bucket" "datalake" {\n  bucket = "datalake-\${var.environment}-\${data.aws_caller_identity.current.account_id}"\n  tags = {\n    Environment = var.environment\n  }\n}\n\`\`\`\n\n### Comandos bÃ¡sicos\n\`\`\`bash\nterraform init\nterraform plan\nterraform apply\nterraform destroy\n\`\`\``, en: `## Terraform for AWS\n\n### Initial configuration\n\`\`\`hcl\nterraform {\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 5.0"\n    }\n  }\n  backend "s3" {\n    bucket = "terraform-state-bucket"\n    key    = "datalake/terraform.tfstate"\n    region = "us-east-1"\n  }\n}\n\nprovider "aws" {\n  region = "us-east-1"\n}\n\`\`\`\n\n### S3 Resource\n\`\`\`hcl\nresource "aws_s3_bucket" "datalake" {\n  bucket = "datalake-\${var.environment}-\${data.aws_caller_identity.current.account_id}"\n  tags = {\n    Environment = var.environment\n  }\n}\n\`\`\`\n\n### Basic commands\n\`\`\`bash\nterraform init\nterraform plan\nterraform apply\nterraform destroy\n\`\`\``, pt: `## Terraform para AWS\n\n### ConfiguraÃ§Ã£o inicial\n\`\`\`hcl\nterraform {\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 5.0"\n    }\n  }\n  backend "s3" {\n    bucket = "terraform-state-bucket"\n    key    = "datalake/terraform.tfstate"\n    region = "us-east-1"\n  }\n}\n\nprovider "aws" {\n  region = "us-east-1"\n}\n\`\`\`\n\n### Recurso S3\n\`\`\`hcl\nresource "aws_s3_bucket" "datalake" {\n  bucket = "datalake-\${var.environment}-\${data.aws_caller_identity.current.account_id}"\n  tags = {\n    Environment = var.environment\n  }\n}\n\`\`\`\n\n### Comandos bÃ¡sicos\n\`\`\`bash\nterraform init\nterraform plan\nterraform apply\nterraform destroy\n\`\`\`` }, practicalTips: [{ es: 'ğŸ“‚ SIEMPRE usa remote state (S3) para trabajo en equipo', en: 'ğŸ“‚ ALWAYS use remote state (S3) for team work', pt: 'ğŸ“‚ SEMPRE use remote state (S3) para trabalho em equipe' }], externalLinks: [{ title: 'Terraform AWS Provider', url: 'https://registry.terraform.io/providers/hashicorp/aws/latest/docs', type: 'docs' }], checkpoint: { es: 'âœ… Â¿Desplegaste recursos con terraform apply?', en: 'âœ… Did you deploy resources with terraform apply?', pt: 'âœ… VocÃª implantou recursos com terraform apply?' }, xpReward: 65, estimatedMinutes: 45, services: ['CloudFormation'] },
  { id: 'aws-10-4', stepNumber: 82, title: { es: 'MÃ³dulos reutilizables', en: 'Reusable modules', pt: 'MÃ³dulos reutilizÃ¡veis' }, description: { es: 'Crear mÃ³dulos para reutilizar infraestructura.', en: 'Create modules to reuse infrastructure.', pt: 'Criar mÃ³dulos para reutilizar infraestrutura.' }, theory: { es: `## MÃ³dulos Terraform\n\n### Estructura de mÃ³dulo\n\`\`\`\nmodules/\nâ””â”€â”€ datalake/\n    â”œâ”€â”€ main.tf\n    â”œâ”€â”€ variables.tf\n    â”œâ”€â”€ outputs.tf\n    â””â”€â”€ README.md\n\`\`\`\n\n### Usar mÃ³dulo\n\`\`\`hcl\nmodule "datalake_prod" {\n  source = "./modules/datalake"\n  \n  environment = "prod"\n  enable_versioning = true\n}\n\nmodule "datalake_dev" {\n  source = "./modules/datalake"\n  \n  environment = "dev"\n  enable_versioning = false\n}\n\`\`\`\n\n### Terraform Registry\nMÃ³dulos pÃºblicos listos para usar:\n- terraform-aws-modules/s3-bucket/aws\n- terraform-aws-modules/vpc/aws`, en: `## Terraform Modules\n\n### Module structure\n\`\`\`\nmodules/\nâ””â”€â”€ datalake/\n    â”œâ”€â”€ main.tf\n    â”œâ”€â”€ variables.tf\n    â”œâ”€â”€ outputs.tf\n    â””â”€â”€ README.md\n\`\`\`\n\n### Use module\n\`\`\`hcl\nmodule "datalake_prod" {\n  source = "./modules/datalake"\n  \n  environment = "prod"\n  enable_versioning = true\n}\n\nmodule "datalake_dev" {\n  source = "./modules/datalake"\n  \n  environment = "dev"\n  enable_versioning = false\n}\n\`\`\`\n\n### Terraform Registry\nPublic modules ready to use:\n- terraform-aws-modules/s3-bucket/aws\n- terraform-aws-modules/vpc/aws`, pt: `## MÃ³dulos Terraform\n\n### Estrutura de mÃ³dulo\n\`\`\`\nmodules/\nâ””â”€â”€ datalake/\n    â”œâ”€â”€ main.tf\n    â”œâ”€â”€ variables.tf\n    â”œâ”€â”€ outputs.tf\n    â””â”€â”€ README.md\n\`\`\`\n\n### Usar mÃ³dulo\n\`\`\`hcl\nmodule "datalake_prod" {\n  source = "./modules/datalake"\n  \n  environment = "prod"\n  enable_versioning = true\n}\n\nmodule "datalake_dev" {\n  source = "./modules/datalake"\n  \n  environment = "dev"\n  enable_versioning = false\n}\n\`\`\`\n\n### Terraform Registry\nMÃ³dulos pÃºblicos prontos para usar:\n- terraform-aws-modules/s3-bucket/aws\n- terraform-aws-modules/vpc/aws` }, practicalTips: [{ es: 'ğŸ“¦ Crea mÃ³dulos para patrones repetitivos de tu organizaciÃ³n', en: 'ğŸ“¦ Create modules for repetitive patterns in your organization', pt: 'ğŸ“¦ Crie mÃ³dulos para padrÃµes repetitivos da sua organizaÃ§Ã£o' }], externalLinks: [{ title: 'Terraform Modules', url: 'https://developer.hashicorp.com/terraform/language/modules', type: 'docs' }], checkpoint: { es: 'âœ… Â¿Creaste un mÃ³dulo y lo usaste en 2 ambientes?', en: 'âœ… Did you create a module and use it in 2 environments?', pt: 'âœ… VocÃª criou um mÃ³dulo e usou em 2 ambientes?' }, xpReward: 55, estimatedMinutes: 40, services: ['CloudFormation'] },
  { id: 'aws-10-5', stepNumber: 83, title: { es: 'AWS CDK', en: 'AWS CDK', pt: 'AWS CDK' }, description: { es: 'IaC programÃ¡tico con TypeScript/Python.', en: 'Programmatic IaC with TypeScript/Python.', pt: 'IaC programÃ¡tico com TypeScript/Python.' }, theory: { es: `## AWS CDK\n\n### Ventajas\n- Escribe IaC en lenguajes conocidos\n- IDE autocompletion\n- LÃ³gica programÃ¡tica (loops, conditions)\n- Constructs de alto nivel\n\n### Ejemplo Python\n\`\`\`python\nfrom aws_cdk import App, Stack\nfrom aws_cdk import aws_s3 as s3\n\nclass DataLakeStack(Stack):\n    def __init__(self, scope, id, **kwargs):\n        super().__init__(scope, id, **kwargs)\n        \n        bucket = s3.Bucket(self, "DataLake",\n            versioned=True,\n            encryption=s3.BucketEncryption.S3_MANAGED\n        )\n\napp = App()\nDataLakeStack(app, "DataLakeStack")\napp.synth()\n\`\`\`\n\n### Comandos\n\`\`\`bash\ncdk init app --language python\ncdk synth  # genera CloudFormation\ncdk deploy\ncdk destroy\n\`\`\``, en: `## AWS CDK\n\n### Advantages\n- Write IaC in familiar languages\n- IDE autocompletion\n- Programmatic logic (loops, conditions)\n- High-level constructs\n\n### Python Example\n\`\`\`python\nfrom aws_cdk import App, Stack\nfrom aws_cdk import aws_s3 as s3\n\nclass DataLakeStack(Stack):\n    def __init__(self, scope, id, **kwargs):\n        super().__init__(scope, id, **kwargs)\n        \n        bucket = s3.Bucket(self, "DataLake",\n            versioned=True,\n            encryption=s3.BucketEncryption.S3_MANAGED\n        )\n\napp = App()\nDataLakeStack(app, "DataLakeStack")\napp.synth()\n\`\`\`\n\n### Commands\n\`\`\`bash\ncdk init app --language python\ncdk synth  # generates CloudFormation\ncdk deploy\ncdk destroy\n\`\`\``, pt: `## AWS CDK\n\n### Vantagens\n- Escreva IaC em linguagens conhecidas\n- IDE autocompletion\n- LÃ³gica programÃ¡tica (loops, conditions)\n- Constructs de alto nÃ­vel\n\n### Exemplo Python\n\`\`\`python\nfrom aws_cdk import App, Stack\nfrom aws_cdk import aws_s3 as s3\n\nclass DataLakeStack(Stack):\n    def __init__(self, scope, id, **kwargs):\n        super().__init__(scope, id, **kwargs)\n        \n        bucket = s3.Bucket(self, "DataLake",\n            versioned=True,\n            encryption=s3.BucketEncryption.S3_MANAGED\n        )\n\napp = App()\nDataLakeStack(app, "DataLakeStack")\napp.synth()\n\`\`\`\n\n### Comandos\n\`\`\`bash\ncdk init app --language python\ncdk synth  # gera CloudFormation\ncdk deploy\ncdk destroy\n\`\`\`` }, practicalTips: [{ es: 'ğŸ CDK es ideal si prefieres Python/TypeScript sobre YAML/HCL', en: 'ğŸ CDK is ideal if you prefer Python/TypeScript over YAML/HCL', pt: 'ğŸ CDK Ã© ideal se vocÃª prefere Python/TypeScript sobre YAML/HCL' }], externalLinks: [{ title: 'AWS CDK', url: 'https://docs.aws.amazon.com/cdk/v2/guide/home.html', type: 'aws_docs' }], checkpoint: { es: 'âœ… Â¿Desplegaste un stack con CDK?', en: 'âœ… Did you deploy a stack with CDK?', pt: 'âœ… VocÃª implantou um stack com CDK?' }, xpReward: 55, estimatedMinutes: 40, services: ['CDK'] },
  { id: 'aws-10-6', stepNumber: 84, title: { es: 'CI/CD para infraestructura', en: 'CI/CD for infrastructure', pt: 'CI/CD para infraestrutura' }, description: { es: 'Automatizar despliegues con GitHub Actions.', en: 'Automate deployments with GitHub Actions.', pt: 'Automatizar deploys com GitHub Actions.' }, theory: { es: `## CI/CD de Infraestructura\n\n### GitHub Actions para Terraform\n\`\`\`yaml\nname: Terraform\non:\n  push:\n    branches: [main]\n  pull_request:\n\njobs:\n  terraform:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: hashicorp/setup-terraform@v2\n      \n      - name: Terraform Init\n        run: terraform init\n        \n      - name: Terraform Plan\n        run: terraform plan\n        if: github.event_name == 'pull_request'\n        \n      - name: Terraform Apply\n        if: github.ref == 'refs/heads/main'\n        run: terraform apply -auto-approve\n\`\`\`\n\n### Best practices\n1. Plan en PRs, Apply en main\n2. Usar OIDC en lugar de access keys\n3. Terraform state locking`, en: `## Infrastructure CI/CD\n\n### GitHub Actions for Terraform\n\`\`\`yaml\nname: Terraform\non:\n  push:\n    branches: [main]\n  pull_request:\n\njobs:\n  terraform:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: hashicorp/setup-terraform@v2\n      \n      - name: Terraform Init\n        run: terraform init\n        \n      - name: Terraform Plan\n        run: terraform plan\n        if: github.event_name == 'pull_request'\n        \n      - name: Terraform Apply\n        if: github.ref == 'refs/heads/main'\n        run: terraform apply -auto-approve\n\`\`\`\n\n### Best practices\n1. Plan on PRs, Apply on main\n2. Use OIDC instead of access keys\n3. Terraform state locking`, pt: `## CI/CD de Infraestrutura\n\n### GitHub Actions para Terraform\n\`\`\`yaml\nname: Terraform\non:\n  push:\n    branches: [main]\n  pull_request:\n\njobs:\n  terraform:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: hashicorp/setup-terraform@v2\n      \n      - name: Terraform Init\n        run: terraform init\n        \n      - name: Terraform Plan\n        run: terraform plan\n        if: github.event_name == 'pull_request'\n        \n      - name: Terraform Apply\n        if: github.ref == 'refs/heads/main'\n        run: terraform apply -auto-approve\n\`\`\`\n\n### Best practices\n1. Plan em PRs, Apply em main\n2. Usar OIDC em vez de access keys\n3. Terraform state locking` }, practicalTips: [{ es: 'ğŸ” Usa OIDC para autenticaciÃ³n sin guardar secrets', en: 'ğŸ” Use OIDC for authentication without storing secrets', pt: 'ğŸ” Use OIDC para autenticaÃ§Ã£o sem guardar secrets' }], externalLinks: [{ title: 'GitHub Actions for AWS', url: 'https://github.com/aws-actions', type: 'github' }], checkpoint: { es: 'âœ… Â¿Configuraste un workflow que hace plan en PRs?', en: 'âœ… Did you configure a workflow that does plan on PRs?', pt: 'âœ… VocÃª configurou um workflow que faz plan em PRs?' }, xpReward: 55, estimatedMinutes: 40, services: ['CloudFormation'] },
  { id: 'aws-10-7', stepNumber: 85, title: { es: 'Template para Data Lake completo', en: 'Template for complete Data Lake', pt: 'Template para Data Lake completo' }, description: { es: 'IaC para un Data Lake con todos los servicios.', en: 'IaC for a Data Lake with all services.', pt: 'IaC para um Data Lake com todos os serviÃ§os.' }, theory: { es: `## Data Lake IaC\n\n### Componentes a crear\n1. **S3 Buckets**: raw, processed, serving\n2. **Glue**: Database, Crawlers, Jobs\n3. **IAM**: Roles para cada servicio\n4. **Athena**: Workgroups\n5. **EventBridge**: Rules\n6. **Step Functions**: State Machine\n\n### Estructura Terraform\n\`\`\`\ninfra/\nâ”œâ”€â”€ modules/\nâ”‚   â”œâ”€â”€ s3/\nâ”‚   â”œâ”€â”€ glue/\nâ”‚   â”œâ”€â”€ iam/\nâ”‚   â””â”€â”€ stepfunctions/\nâ”œâ”€â”€ environments/\nâ”‚   â”œâ”€â”€ dev/\nâ”‚   â””â”€â”€ prod/\nâ””â”€â”€ main.tf\n\`\`\``, en: `## Data Lake IaC\n\n### Components to create\n1. **S3 Buckets**: raw, processed, serving\n2. **Glue**: Database, Crawlers, Jobs\n3. **IAM**: Roles for each service\n4. **Athena**: Workgroups\n5. **EventBridge**: Rules\n6. **Step Functions**: State Machine\n\n### Terraform Structure\n\`\`\`\ninfra/\nâ”œâ”€â”€ modules/\nâ”‚   â”œâ”€â”€ s3/\nâ”‚   â”œâ”€â”€ glue/\nâ”‚   â”œâ”€â”€ iam/\nâ”‚   â””â”€â”€ stepfunctions/\nâ”œâ”€â”€ environments/\nâ”‚   â”œâ”€â”€ dev/\nâ”‚   â””â”€â”€ prod/\nâ””â”€â”€ main.tf\n\`\`\``, pt: `## Data Lake IaC\n\n### Componentes a criar\n1. **S3 Buckets**: raw, processed, serving\n2. **Glue**: Database, Crawlers, Jobs\n3. **IAM**: Roles para cada serviÃ§o\n4. **Athena**: Workgroups\n5. **EventBridge**: Rules\n6. **Step Functions**: State Machine\n\n### Estrutura Terraform\n\`\`\`\ninfra/\nâ”œâ”€â”€ modules/\nâ”‚   â”œâ”€â”€ s3/\nâ”‚   â”œâ”€â”€ glue/\nâ”‚   â”œâ”€â”€ iam/\nâ”‚   â””â”€â”€ stepfunctions/\nâ”œâ”€â”€ environments/\nâ”‚   â”œâ”€â”€ dev/\nâ”‚   â””â”€â”€ prod/\nâ””â”€â”€ main.tf\n\`\`\`` }, practicalTips: [{ es: 'ğŸ—ï¸ Separa por ambiente usando workspaces o carpetas', en: 'ğŸ—ï¸ Separate by environment using workspaces or folders', pt: 'ğŸ—ï¸ Separe por ambiente usando workspaces ou pastas' }], externalLinks: [{ title: 'Terraform AWS Examples', url: 'https://github.com/terraform-aws-modules', type: 'github' }], checkpoint: { es: 'âœ… Â¿Creaste IaC para al menos S3 + Glue + IAM?', en: 'âœ… Did you create IaC for at least S3 + Glue + IAM?', pt: 'âœ… VocÃª criou IaC para pelo menos S3 + Glue + IAM?' }, xpReward: 70, estimatedMinutes: 60, services: ['CloudFormation'] },
  { id: 'aws-10-8', stepNumber: 86, title: { es: 'Service Catalog y Control Tower', en: 'Service Catalog and Control Tower', pt: 'Service Catalog e Control Tower' }, description: { es: 'Governance para IaC a escala enterprise.', en: 'Governance for IaC at enterprise scale.', pt: 'GovernanÃ§a para IaC em escala enterprise.' }, theory: { es: `## Enterprise IaC\n\n### AWS Service Catalog\nPortfolio de productos aprobados:\n- Templates CloudFormation validados\n- Versionado de productos\n- IAM para quiÃ©n puede usar quÃ©\n\n### AWS Control Tower\nGovernance para multi-account:\n- Landing Zone predefinida\n- Guardrails (SCPs)\n- Account Factory\n\n### AWS Organizations SCPs\n\`\`\`json\n{\n  "Effect": "Deny",\n  "Action": ["ec2:*"],\n  "Resource": "*",\n  "Condition": {\n    "StringNotEquals": {\n      "aws:RequestedRegion": ["us-east-1", "eu-west-1"]\n    }\n  }\n}\n\`\`\``, en: `## Enterprise IaC\n\n### AWS Service Catalog\nPortfolio of approved products:\n- Validated CloudFormation templates\n- Product versioning\n- IAM for who can use what\n\n### AWS Control Tower\nGovernance for multi-account:\n- Predefined Landing Zone\n- Guardrails (SCPs)\n- Account Factory\n\n### AWS Organizations SCPs\n\`\`\`json\n{\n  "Effect": "Deny",\n  "Action": ["ec2:*"],\n  "Resource": "*",\n  "Condition": {\n    "StringNotEquals": {\n      "aws:RequestedRegion": ["us-east-1", "eu-west-1"]\n    }\n  }\n}\n\`\`\``, pt: `## Enterprise IaC\n\n### AWS Service Catalog\nPortfÃ³lio de produtos aprovados:\n- Templates CloudFormation validados\n- Versionamento de produtos\n- IAM para quem pode usar o quÃª\n\n### AWS Control Tower\nGovernanÃ§a para multi-account:\n- Landing Zone predefinida\n- Guardrails (SCPs)\n- Account Factory\n\n### AWS Organizations SCPs\n\`\`\`json\n{\n  "Effect": "Deny",\n  "Action": ["ec2:*"],\n  "Resource": "*",\n  "Condition": {\n    "StringNotEquals": {\n      "aws:RequestedRegion": ["us-east-1", "eu-west-1"]\n    }\n  }\n}\n\`\`\`` }, practicalTips: [{ es: 'ğŸ¢ Control Tower es esencial para organizaciones con mÃºltiples cuentas', en: 'ğŸ¢ Control Tower is essential for organizations with multiple accounts', pt: 'ğŸ¢ Control Tower Ã© essencial para organizaÃ§Ãµes com mÃºltiplas contas' }], externalLinks: [{ title: 'Control Tower', url: 'https://docs.aws.amazon.com/controltower/latest/userguide/what-is-control-tower.html', type: 'aws_docs' }], checkpoint: { es: 'âœ… Â¿Entiendes cÃ³mo Service Catalog y Control Tower ayudan a escala?', en: 'âœ… Do you understand how Service Catalog and Control Tower help at scale?', pt: 'âœ… VocÃª entende como Service Catalog e Control Tower ajudam em escala?' }, xpReward: 45, estimatedMinutes: 30, services: ['Service Catalog'] }
];








